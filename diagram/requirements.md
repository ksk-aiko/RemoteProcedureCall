# システムの目標と実装詳細

このプロジェクトは、異なるプログラミング言語で書かれたクライアントとサーバが共通の方法で通信し、特定の関数を実行できるようにするシステムを開発することを目的としています。具体的には、JavaScript (Node.js) を使用したクライアントが Python で書かれたサーバに対して命令を出すことが想定されています。

## 技術仕様

### 通信インターフェイス
- **通信方式:** クライアントとサーバ間の通信にはソケットを利用します。使用されるソケットファミリーはAF_UNIXが推奨されますが、必要に応じて自由に選択可能です。

### データ交換形式
- **リクエストの構造:**
  ```json
  {
    "method": "subtract",
    "params": [42, 23],
    "param_types": ["int", "int"],
    "id": 1
  }
  ```
- **レスポンスの構造:**
  ```json
  {
    "results": "19",
    "result_type": "int",
    "id": 1
  }
  ```

### クライアント識別
- クライアントからの各リクエストには一意のIDが割り当てられ、サーバがそれを使用してクライアントを識別し、適切なレスポンスを返します。

### エラー処理
- エラーが発生した場合、サーバは以下の形式のエラーメッセージを含むレスポンスをクライアントに返します:
  ```json
  {
    "error": "エラーメッセージ",
    "id": 1
  }
  ```

## 関数の実行とパラメータ管理
- サーバは `<string, callable>` 形式のハッシュマップを使用してリクエストと関数を関連付けます。リクエストがサーバに到着すると、指定されたキーに関連付けられた関数を探し、その関数を呼び出し、リクエストから受け取ったパラメータで関数を実行します。
- パラメータの型検証には "param_types" を使用し、関数の要件を満たしているかを確認します。

## RPC関数の提供
サーバは以下のRPC関数をクライアントに提供します:
- `floor(double x)`: xを最も近い整数に切り捨て。
- `nroot(int n, int x)`: 方程式 rn = x の解 r を計算。
- `reverse(string s)`: 文字列 s の逆順の文字列を返す。
- `validAnagram(string str1, string str2)`: 二つの文字列がアナグラムかどうかを判断。
- `sort(string[] strArr)`: 文字列の配列をソートし、その結果を返す。

## コードの管理と構造
- ソケットのネットワーク接続を処理するためのラッパークラスや構造体を用いて、ソケットの作成、バインド、接続のリッスン、リクエストの処理、レスポンスの送信を行います

。
- 主要な関数やクラスはメインプログラムから分離して管理し、メイン関数はこれらのメソッドを呼び出すことに専念します。
